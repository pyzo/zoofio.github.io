<!DOCTYPE html>
<html>
<head>
<title>Test layout using flex deep nesting</title>
<style>
/* http://css-tricks.com/snippets/css/a-guide-to-flexbox/ */

html {
    height: 100%;  
}

body {    
    height: 100%;
    margin: 0px;
}

body > .hbox {
    height: 100%;
}
    
.hbox, .vbox {
    box-sizing: border-box;
    
    margin: 0px;
    
    
    display: -ms-flex;
    display: -webkit-flex;
    display: flex;
    /*
    justify-content: stretch;  /* start, end, center, space-between, space-around * /
    align-items: stretch;
    align-content: stretch;
    */
}
    
.hbox {
    -ms-flex-flow: row;
    -webkit-flex-flow: row;
    flex-flow: row;
    /*border: 1px dashed #44e;*/
    width: 100%;    
}
.vbox {
    -ms-flex-flow: column;
    -webkit-flex-flow: column;
    flex-flow: column;   
    /*border: 1px dashed #e44;*/
    height: 100%;
    width: 100%;
}

div {
    box-sizing: border-box;
    white-space: nowrap;
    overflow: hidden;
}

.hbox > .child, .vbox > .child {    
    background: #dde;
    border: 1px solid black;
    border-radius: 5px;
    margin: 2px;
    padding: 5px;
    
    -ms-flex-grow: 1;
    -webkit-flex-grow: 1;
    flex-grow: 1;
}

.hbox > div {
    height: 100%;
    margin: 0px;
}
 .vbox > div {
    width: 100%;
    margin: 0px;
}
    
</style>
</head>
<body>

    
<div class='hbox'>
    
    <div class='vbox'>
        <div class='hbox' style='flex-grow: 1;'>
          <div class='child' style='flex-grow: 0'>Box A</div>
          <div class='child' style='flex-grow: 0'>Box B</div>
          <div class='child' style='flex-grow: 0'>Box C is a bit longer</div> 
        </div>
        <div class='hbox' style='flex-grow: 0;'>
          <div class='child' style='flex-grow: 1'>Box A</div>
          <div class='child' style='flex-grow: 1'>Box B</div>
          <div class='child' style='flex-grow: 1'>Box C is a bit longer</div>  
        </div>
        <div class='hbox' style='flex-grow: 1;'>
          <div class='child' style='flex-grow: 1'>Box A</div>
          <div class='child' style='flex-grow: 0'>Box B</div>
          <div class='child' style='flex-grow: 2'>Box C is a bit longer</div> 
        </div>
        <div class='hbox' style='flex-grow: 2;'>
          <div class='child' style='flex-grow: 1'>Box A</div>
          <div class='child' style='flex-grow: 2'>Box B</div>
          <div class='child' style='flex-grow: 3'>Box C is a bit longer</div> 
        </div>
        
    </div>
    <div class='vbox'>
        
        <div class='hbox' style='flex-grow: 1;'>
          <div class='child' style='flex-grow: 0'>Box A</div>
          <div class='child' style='flex-grow: 0'>Box B</div>
          <div class='child' style='flex-grow: 0'>Box C is a bit longer</div> 
        </div>
        <div class='hbox' style='flex-grow: 0;'>
          <div class='child' style='flex-grow: 1'>Box A</div>
          <div class='child' style='flex-grow: 1'>Box B</div>
          <div class='child' style='flex-grow: 1'>Box C is a bit longer</div>  
        </div>
        <div class='hbox' style='flex-grow: 1;'>
          <div class='child' style='flex-grow: 1'>Box A</div>
          <div class='child' style='flex-grow: 0'>Box B</div>
          <div class='child' style='flex-grow: 2'>Box C is a bit longer</div> 
        </div>
        <div class='hbox' style='flex-grow: 2;'>
          <div class='child' style='flex-grow: 1'>Box A</div>
          <div class='child' style='flex-grow: 2'>Box B</div>
          <div class='child' style='flex-grow: 3'>Box C is a bit longer</div> 
        </div>

</div>

    
<div id='fps' style='position:fixed; top:0px; left:0px; width:80px; height:20px; background:#afa;'> fps</div>
<script>
var timer = {
    tail: 50,  // how many samples to take a measurement on
    showinterval: 1000,  // each x ms show the fps in the log
    elapsed: [],
    lastshow: 0,
    tick: function (now) {
        this.elapsed.push(now);
        this.elapsed = this.elapsed.slice(-this.tail);
        if (now - this.lastshow > this.showinterval) {
            this.lastshow = now;
            var elapsed = (now - (this.elapsed[0] || now)) / 1000;
            var fps = Math.round(this.elapsed.length / elapsed);
            //console.log(fps);
            document.getElementById('fps').innerHTML = fps + ' FPS';
        }
    },
    start: function (now) {
        requestAnimationFrame(timer.start);        
        timer.tick(now);
    }    
};
timer.start()    
</script>
    
</body>
</html>
